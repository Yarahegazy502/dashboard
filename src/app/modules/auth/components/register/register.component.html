<div [class.d-none]="!isLoading" id="pause" class="d-flex align-items-center justify-content-center">
  <div id="spinner">lll</div>
</div>

<div class="login p-5 d-flex justify-content-center text-center position-relative min-vh-100 padding-small-0">
  <div class="container-fluid bg-form-login d-flex justify-content-center align-items-center">
    <div class="form-box position-relative m-auto w-100">
      <div class="content">
        <h2 class="text-center fs-1 fw-bold text-second-color d-flex align-items-center justify-content-center py-3">
          <img class="logo scaleX-rtl" src="assets/imgs/logo.svg" alt="logo" />
          XDash
        </h2>
        <div class="row  d-flex justify-content-center">
          <div class="col-xl-5 col-lg-6 col-md-8 col-sm-12">
            <form class="form-content bg-white-color shad rounded p-4 p-xl-5 p-md-4 p-sm-3 p-3"
              [formGroup]="registerForm" (ngSubmit)="register()">
              <div class="my-4">
                <small class="fs-6 me-2 mb-3">
                  {{"form.register.youAreAMember"|translate}}
                </small>

                <small>
                  <a class="fs-6 text-main-color" [routerLink]="['/auth/login']">
                    {{"form.register.signIn"|translate}}
                  </a>
                </small>
              </div>

              <button (click)="signInGoogle()"
                class="btn border-0 py-3 google w-100 d-flex align-items-center justify-content-center">
                <img class="me-2" src="https://cdn-icons-png.flaticon.com/128/300/300221.png" />
                {{"form.register.signUpWithGoggle"|translate}}
              </button>

              <div class="position-relative my-3">
                <small class="or">or</small>
              </div>

              <div class="my-3">
                <label for="name" class="form-label d-block text-start">
                  {{"form.register.name"|translate}}
                </label>
                <input type="text" class="form-control" formControlName="name"
                  [class.is-invalid]="(registerFormControls['name'].touched || registerFormControls['name'].dirty) && registerFormControls['name'].invalid"
                  [class.is-valid]="registerFormControls['name'].valid && registerFormControls['name'].touched">
                <div *ngIf="registerFormControls['name']?.errors?.['minlength']"
                  class="form-text d-block text-start text-danger ml-2">
                  Name must be at least 4 characters long.
                </div>
                <div *ngIf="registerFormControls['name']?.errors?.['required'] && registerFormControls['name']?.touched"
                  class="form-text d-block text-start text-danger ml-2">
                  name required.
                </div>
              </div>

              <div class="mb-3">
                <label for="email" class="form-label d-block text-start">
                  {{"form.email"|translate}}
                </label>
                <input type="email" class="form-control" formControlName="email"
                  [class.is-invalid]="(registerFormControls['email'].touched || registerFormControls['email']?.dirty) && registerFormControls['email']?.invalid"
                  [class.is-valid]="registerFormControls['email']?.valid && registerFormControls['email']?.touched">
                <div id="emailHelp" class="form-text d-block text-start text-danger"
                  [class.d-none]="registerFormControls['email']?.valid || registerFormControls['email']?.untouched"
                  *ngIf="registerFormControls['email']?.errors?.['email']">
                  Email required.
                </div>
              </div>

              <div class="mb-3 pho">
                <label for="phone" class="form-label d-block text-start">
                  Phone
                </label>
                <ngx-intl-tel-input class="form-control"
                  [preferredCountries]="[CountryISO.UnitedStates, CountryISO.UnitedKingdom]"
                  [enableAutoCountrySelect]="false" [enablePlaceholder]="true" [searchCountryFlag]="true"
                  [searchCountryField]="[SearchCountryField.Iso2, SearchCountryField.Name]" [selectFirstCountry]="false"
                  [selectedCountryISO]="CountryISO.Egypt" [maxLength]="15" [phoneValidation]="true" name="phone"
                  formControlName="phone"
                  [class.is-invalid]="registerFormControls['phone']?.touched && registerFormControls['phone']?.invalid"
                  [class.is-valid]="registerFormControls['phone']?.valid && registerFormControls['phone']?.touched">
                </ngx-intl-tel-input>
              </div>

              <div class="mb-3">
                <label for="password" class="form-label d-block text-start">
                  {{"form.password"|translate}}
                </label>
                <div class="input-group">
                  <input matInput [type]="hide ? 'password' : 'text'" type="password" class="border-r form-control"
                    formControlName="password"
                    [class.is-invalid]="registerFormControls['password']?.touched && registerFormControls['password']?.invalid"
                    [class.is-valid]="registerFormControls['password']?.valid && registerFormControls['password']?.touched">
                  <span class="input-group-text border-l bg-white-color">
                    <mat-icon class="text-muted-color fs-5" (click)="hide = !hide">
                      {{hide ? 'visibility_off' :'visibility'}}
                    </mat-icon>
                  </span>
                </div>
              </div>

              <div class="mb-3">
                <label for="confirmPassword" class="form-label d-block text-start">
                  {{"form.register.confirmPassword"|translate}}
                </label>
                <input type="password" class="form-control" formControlName="confirmPassword"
                  [class.is-invalid]="registerFormControls['confirmPassword']?.touched && registerFormControls['confirmPassword']?.invalid"
                  [class.is-valid]="registerFormControls['confirmPassword']?.valid && registerFormControls['confirmPassword']?.touched">
                <div *ngIf="registerFormControls['confirmPassword']?.errors?.['ConfirmPassword']"
                  class="form-text d-block text-start text-danger ml-2">
                  pasword wrong
                </div>
              </div>

              <button type="submit" (click)="register()"  class="btn mb-4 btn-primary w-100 btn-solid-main">
                {{"form.register.register"|translate}}
              </button>

            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
